########################################
#  This file was generated by hdlmake  #
#  http://ohwr.org/projects/hdl-make/  #
########################################

## variables #############################
PWD := $(shell pwd)

MODELSIM_INI_PATH := /opt/questa_sv_afv_10.3c_1/questasim//bin/..

VCOM_FLAGS := -quiet -modelsimini modelsim.ini
VSIM_FLAGS :=
VLOG_FLAGS := -quiet -modelsimini modelsim.ini 
VERILOG_SRC := src/genericTest.sv \
../../rtl/include/includeModule.sv \
../../rtl/RTLTopModule.sv \
../../ipcores/ipcore/ipcore.sv \

VERILOG_OBJ := work/genericTest/.genericTest_sv \
work/includeModule/.includeModule_sv \
work/RTLTopModule/.RTLTopModule_sv \
work/ipcore/.ipcore_sv \

VHDL_SRC := 
VHDL_OBJ := 
LIBS := work
LIB_IND := work/.work
## rules #################################
sim: sim_pre_cmd modelsim.ini $(LIB_IND) $(VERILOG_OBJ) $(VHDL_OBJ)
$(VERILOG_OBJ): $(VHDL_OBJ)
$(VHDL_OBJ): $(LIB_IND) modelsim.ini

sim_pre_cmd:
		

sim_post_cmd: sim
		

modelsim.ini: $(MODELSIM_INI_PATH)/modelsim.ini
		cp $< . 2>&1
clean:
		rm -rf ./modelsim.ini $(LIBS)
.PHONY: clean sim_pre_cmd sim_post_cmd

work/.work:
	(vlib work && vmap -modelsimini modelsim.ini work && touch work/.work )|| rm -rf work 

work/genericTest/.genericTest_sv: src/genericTest.sv \
work/RTLTopModule/.RTLTopModule_sv
		vlog -work work $(VLOG_FLAGS) -sv +incdir+../environment+../sequences+src +incdir+../../mvc//questa_mvc_src/sv+../../mvc/questa_mvc_src/sv/mvc_base+../../mvc/include+ $<
		@mkdir -p $(dir $@) && touch $@ 


work/includeModule/.includeModule_sv: ../../rtl/include/includeModule.sv
		vlog -work work $(VLOG_FLAGS) -sv +incdir+../../rtl/include+../../rtl/include  $<
		@mkdir -p $(dir $@) && touch $@ 


work/RTLTopModule/.RTLTopModule_sv: ../../rtl/RTLTopModule.sv \
work/includeModule/.includeModule_sv \
work/ipcore/.ipcore_sv
		vlog -work work $(VLOG_FLAGS) -sv +incdir+../../rtl/include+../../rtl  $<
		@mkdir -p $(dir $@) && touch $@ 


work/ipcore/.ipcore_sv: ../../ipcores/ipcore/ipcore.sv
		vlog -work work $(VLOG_FLAGS) -sv +incdir+../../ipcores/ipcore/include+../../ipcores/ipcore  $<
		@mkdir -p $(dir $@) && touch $@ 



